# Toogle usage of sampled data or full data
SAMPLE = False

# Import libraries
from setting import *
from util import *
from preprocess import *

import os
import numpy as np
import pandas as pd

# Ignore warnings
import warnings
warnings.filterwarnings('ignore')

# Set display options
pd.options.display.max_rows = 100
pd.options.display.max_columns = 100
pd.options.display.width = 1000

# Set Global Random Seed -------------------------------------------------------
print_title('Set Global Random Seed')
np.random.seed(SEED)
print_info('Set global random seed to {}'.format(SEED))

# Load data --------------------------------------------------------------------
print_title('Load Data')
print_info('Start loading data')

if SAMPLE:
    train_df = pd.read_csv(TRAIN_DATA_PATH, nrows = 10000, dtype=ORIGIN_LOAD_TYPES, na_values=['UNKNOWN', 'Unknown'])
    # train_df['MachineIdentifier'] = train_df.index.astype('uint32')
else:
    train_df = pd.read_csv(TRAIN_DATA_PATH, dtype=ORIGIN_LOAD_TYPES, na_values=['UNKNOWN', 'Unknown'])
    # train_df['MachineIdentifier'] = train_df.index.astype('uint32')

print_info('Finish loading data')

# Time feature ----------------------------------------------------------------
print_title('Time Features')
features_versions = [col for col in features_to_be_kept if col.lower().endswith('version') or col.lower().endswith('ver') or col == 'OsBuildLab']
print_info("Features (version/ver) indicating time -> To be engineered:")
for col in features_versions:
    print(col)

# Related features -------------------------------------------------------------
print_title('Related Features')
features_related = [['EngineVersion','AvSigVersion'],
                    ['OsVer', 'Census_OSVersion'],
                    ['CountryIdentifier', 'CityIdentifier', 'GeoNameIdentifier', 'LocaleEnglishNameIdentifier'],
                    ['OsVer', 'OsBuild', 'OsSuite', 'OsPlatformSubRelease', 'OsBuildLab', 'Census_OSVersion', 'Census_OSArchitecture', 'Census_OSBranch', 'Census_OSBuildNumber', 'Census_OSBuildRevision'],
                    ['Census_OEMNameIdentifier', 'Census_OEMModelIdentifier'],  # Some CountryIdentifier have duplicated CityIdentifier]
                    ['Census_ProcessorManufacturerIdentifier', 'Census_ProcessorModelIdentifier'], # Census_ProcessorModelIdentifier for a Census_ProcessorManufacturerIdentifier
                    ['Census_OSEdition', 'Census_OSSkuName']]

print_info("Features related -> To be explored & engineered:")
for col in features_related:
    print(col)
